---
title: Getting Started
description: Get started building with StudioCMS.
sidebar:
   order: 1
   badge:
     text: "Updated"
     variant: "success"
---

import PackageManagers from '~/components/PackageManagers.astro';
import TursoCLI from '~/components/TursoCLI.astro';
import { Aside, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro';
import { sponsors, SponsorLink } from '~/share-link'

## Let's get started

To start using StudioCMS, you'll need:

- An Astro project
- A libSQL provider or self-hosted libSQL server
- The StudioCMS integration

## Prepare your database

StudioCMS uses `@astrojs/db` to connect to your libSQL database. You can use any libSQL provider or self-hosted libSQL server.

<ReadMore>For more information about the required environment variables see, [Database URL and Token for `@astrojs/db`](/start-here/environment-variables/#database-url-and-token-for-astrojsdb)</ReadMore>

### Getting started with Turso

<Steps>
1. Install the <SponsorLink href={sponsors.turso.docs.installCLILink} text='Turso CLI'/>
2. <SponsorLink href={sponsors.turso.docs.loginsignupLink} text='Login or signup'/> to Turso.
3. Create a new database.
   <TursoCLI tursoCli='db' type='create' arg='studiocms' />
4. Get and Set `ASTRO_DB_REMOTE_URL`

   4a. Run the `show` command to see information about the newly created database:
      <TursoCLI tursoCli='db' type='show' arg='studiocms' />

   4b. Copy the URL value and set it as the value for `ASTRO_DB_REMOTE_URL`.
      ```bash title=".env"
      ASTRO_DB_REMOTE_URL=libsql://studiocms-yourname.turso.io
      ```

5. Get and Set `ASTRO_DB_APP_TOKEN`

   5a. Create a new token to authenticate requests to the database:
      <TursoCLI tursoCli='db' type='tokens.create' arg='studiocms' />

   5b. Copy the output of the command and set it as the value for `ASTRO_DB_APP_TOKEN`.
      ```bash title=".env"
      ASTRO_DB_APP_TOKEN=eyJhbGciOiJF...3ahJpTkKDw
      ```

</Steps>

You are now ready to move on to setting up your StudioCMS project!

### Using another provider or self-hosted libSQL

libSQL supports both HTTP and WebSockets as the transport protocol for a remote server. It also supports using a local file or an in-memory DB. 

<ReadMore>For more information about the required environment variables see, [Database URL and Token for `@astrojs/db`](/start-here/environment-variables/#database-url-and-token-for-astrojsdb)</ReadMore>

<ReadMore>For more information about all the potential libSQL options (inlcuding local files) see [Astro Docs: Remote URL configuration options](https://docs.astro.build/en/guides/astro-db/#remote-url-configuration-options)</ReadMore>

## Creating a new Astro project

To create a new Astro project, simply run the following command in your terminal:

    <PackageManagers type="create" pkg="astro@latest" />

After running the command, you'll be prompted to answer a few questions about your project. Once completed, the CLI will create a new Astro project in the specified directory.

If all goes well, you should see a ‚ÄúLiftoff confirmed. Explore your project!‚Äù message followed by some recommended next steps.

`cd` into your new project directory to begin using Astro. 

```bash
cd my-project
```

If you skipped the npm install step during the CLI wizard, then be sure to install your dependencies before continuing.

## Adding the StudioCMS integration

<Tabs syncKey='install-method'>

<TabItem label="Astro Method" icon='astro'>

    <Steps>
    1. To add the StudioCMS integration to your project, you'll need to install the StudioCMS package and it's dependencies:

       <PackageManagers type="exec" pkg="astro" args="add db node studiocms" />

    2. After installing the package, make sure that your `astro.config.mjs` file is correctly importing and calling the integration:

       ```ts twoslash title="astro.config.mjs"
       // [!code word:server]
       import { defineConfig } from 'astro/config';
       import db from '@astrojs/db'; // [!code highlight]
       import node from '@astrojs/node'; // [!code highlight]
       import studioCMS from 'studiocms'; // [!code highlight]

       export default defineConfig({
           site: 'https://demo.studiocms.xyz/', // [!code highlight]
           output: 'server',
           adapter: node({ mode: "standalone" }), // [!code highlight]
           integrations: [
               db(), // [!code highlight]
               studioCMS(), // [!code highlight]
           ],
       });
       ```

    </Steps>

</TabItem>

<TabItem label="Manual Method" icon='seti:powershell'>

    <Steps>

    1. To add the StudioCMS integration to your project, you'll need to install the Astro StudioCMS package and it's dependencies:

       <PackageManagers pkg="@astrojs/db @astrojs/node studiocms" />

    2. Update your `astro.config.mjs` file:

       ```ts twoslash title="astro.config.mjs" 
       // [!code word:server]
       import { defineConfig } from 'astro/config';
       import db from '@astrojs/db'; // [!code ++]
       import node from '@astrojs/node'; // [!code ++]
       import studioCMS from 'studiocms'; // [!code ++]

       export default defineConfig({
           site: 'https://demo.studiocms.xyz/', // [!code highlight]
           output: 'server', 
           adapter: node({ mode: "standalone" }), // [!code ++]
           integrations: [
               db(), // [!code ++]
               studioCMS(), // [!code ++]
           ],
       });
       ```
    </Steps>

</TabItem>

</Tabs>

Please note that the `site` option in the `astro.config.mjs` file is required for StudioCMS to work correctly. You can set this to your site's URL or a placeholder URL. (i.e. `https://demo.studiocms.xyz/` or `http://localhost:4321/`)

<Aside type="note" title="SSR Only">
StudioCMS requires SSR mode to work correctly. Make sure to set `output: 'server'` and an adapter that supports SSR in your `astro.config.mjs` file.
</Aside>

## Configure authentication

StudioCMS Auth requires atleast the [Encryption Key](/start-here/environment-variables/#encryption-key-for-studiocmsauth) to be set in your `.env` file.

The following environment variables are required for StudioCMS authentication:

```bash title=".env"
# encryption key for username and password authentication
CMS_ENCRYPTION_KEY="wqR+w...sRcg=="
```

You can generate a secure encryption key using the following command: 

```bash
openssl rand --base64 16
``` 

And set the output as the value for `CMS_ENCRYPTION_KEY`.

<ReadMore>
For more information about all the available authentication environment variables see, [Envrionment variables](/start-here/environment-variables/) page.
</ReadMore>

### Optional: Configure oAuth authentication

StudioCMS supports oAuth authentication with GitHub, Discord, Google, and Auth0. To configure oAuth authentication, you'll need to set the [required environment variables in your `.env` file](/start-here/environment-variables/#oauth-authentication-environment-variables), and ensure that the provider is [enabled in your config](/config-reference/dashboard/#authconfig).

For setting up oAuth providers, they require a callback URL. The callback URL is the path where the provider will redirect the user after authentication. 

#### Setting up the callback URL

The callback URL should be set to one of the following paths based on your environment:

| Environment   | Callback URL |
|---------------|--------------|
| Production    | `https://your-domain.tld/studiocms_api/auth/<provider>/callback` |
| Testing & Dev | `http://localhost:4321/studiocms_api/auth/<provider>/callback` |

#### Example callback URL paths

The following paths are examples of the callback URL for each provider:

| Provider | Callback PATH |
|----------|---------------|
| GitHub   | `/studiocms_api/auth/github/callback` |
| Discord  | `/studiocms_api/auth/discord/callback` |
| Google   | `/studiocms_api/auth/google/callback` |
| Auth0    | `/studiocms_api/auth/auth0/callback` |

## Configure your `package.json` scripts

Setup your `package.json` scripts to include the `--remote` flag for build, and optionally for dev. (You can also run the dev command as shown in the ["Running your StudioCMS Project"](#running-your-studiocms-project) section)

```json /--remote/ title="package.json"
{
    "name": "my-studiocms-project",
    "scripts": {
        "dev": "astro dev --remote",
        "build": "astro check & astro build --remote",
        "astro": "astro"
    }
}
```

## Running your StudioCMS project

Thanks to the power of Astro running StudioCMS is as easy as running the dev command for local preview, or building and deploying to your server, for the basics of how to use it locally without building here is what you need to do.

### First time Setup (or during updates if the tables schema is updated)

To start your Astro project, run the following commands in your terminal:

    <PackageManagers type="exec" args="astro db push --remote" />
    <PackageManagers type="run" args="dev --remote" />

<Aside type="note">
The `--remote` flag can be removed if you have set the scripts in your `package.json` file to include the flag. This is explained in the ["Configure your `package.json` scripts"](#configure-your-packagejson-scripts) section.
</Aside>

After running the commands, you should see a message indicating that your project is running at `localhost:4321`. When first setting up StudioCMS, you will prompted to finish configuring StudioCMS at `http://localhost:4321/start`

### Running in Astro Development mode locally

To start your Astro project, run the following command in your terminal:

    <PackageManagers type="run" args="dev --remote" />

After running the command, you should see a message indicating that your project is running at `localhost:4321`. Open your browser and navigate to `http://localhost:4321` to see your Astro project in action.

**Congratulations!** ü•≥ You now have StudioCMS installed in your Astro project.

### Building and deploying your StudioCMS project

After running the [first time setup steps](#first-time-setup-or-during-updates-if-the-tables-schema-is-updated), you should build and deploy your StudioCMS project to your server.

By default, StudioCMS's dashboard is available at `http://your-domain.tld/dashboard`.

This dashboard will be available for you to manage your content and settings in development mode and production mode. 

It is recommended to use StudioCMS in production mode only, as the dashboard is meant to be used by the built project. (You may see some issues/errors in development mode such as a Vite dep error.)

## Next steps

<ReadMore>
Check out how to set [Environment Variables](/start-here/environment-variables) in StudioCMS.
</ReadMore>

<ReadMore>
Check out the [Package Catalog](/package-catalog/) to find and use plugins with StudioCMS.
</ReadMore>

<ReadMore>
Learn more about the StudioCMS Config options using the [StudioCMS Reference](/config-reference/options-schema/) pages.
</ReadMore>
