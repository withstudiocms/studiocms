---
import dashboardGridItems from 'studiocms:components/dashboard-grid-items';
import { Center } from 'studiocms:ui/components';
import DashboardGridItem from './DashboardGridItem.astro';

let gridItems = dashboardGridItems;

// TODO: Make this part of the Site Settings? Or a user setting? still not sure
const allowedItems: string[] = [];

const filterItems = allowedItems.length > 0;

if (filterItems) {
	gridItems = dashboardGridItems.filter((item) => allowedItems.includes(item.name));
}
---
<div class="dashboard-grid-container">

    { 
		gridItems.length > 0 
		? gridItems.map((item) => <DashboardGridItem {...item} />) 
		: <Center><p>There is nothing to display</p></Center> 
	}

</div>