---
import { Sidebar } from 'studiocms:ui/components';
import MainSidebarContent from './MainSidebarContent.astro';
---
<Sidebar class='sidebar'>
  <MainSidebarContent transition:persist transition:persist-props />
</Sidebar>

<script>
  import { SingleSidebarHelper } from "studiocms:ui/components";

  function setupSidebar() {
    if (document.getElementById('sui-sidebar')) {
      new SingleSidebarHelper('nav-toggle');
    }
  }

  document.addEventListener('astro:page-load', setupSidebar);
  setupSidebar();
</script>
