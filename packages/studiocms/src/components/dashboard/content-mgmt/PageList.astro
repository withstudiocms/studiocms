---
import studioCMS_SDK_Cache, { type SiteConfigCacheObject } from 'studiocms:sdk/cache';
import TreeRenderer from './TreeRenderer.astro';

interface Props {
	config: SiteConfigCacheObject;
}

const { config } = Astro.props as Props;

const hideDefaults = config.data.hideDefaultIndex;

const { data: PageFolderTree } = await studioCMS_SDK_Cache.GET.pageFolderTree(true, hideDefaults);

interface Props {
	isNewFolder?: boolean;
	isNewPage?: boolean;
}

const { isNewFolder, isNewPage } = Astro.props;
---

<TreeRenderer data={PageFolderTree} {isNewFolder} {isNewPage} />