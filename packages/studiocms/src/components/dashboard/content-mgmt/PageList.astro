---
import studioCMS_SDK_Cache, { type SiteConfigCacheObject } from 'studiocms:sdk/cache';
import TreeRenderer from './TreeRenderer.astro';

interface Props {
	isNewFolder?: boolean;
	isNewPage?: boolean;
	config: SiteConfigCacheObject;
}

const { config, isNewFolder, isNewPage } = Astro.props as Props;

const hideDefaults = config.data.hideDefaultIndex;

const { data: PageFolderTree } = await studioCMS_SDK_Cache.GET.pageFolderTree(true, hideDefaults);
---

<TreeRenderer data={PageFolderTree} {isNewFolder} {isNewPage} />