---
import { dashboardConfig } from 'studiocms:config';
import { defaultLang } from 'studiocms:i18n';
import type { ComponentProps } from 'astro/types';
import BaseBody from '../components/shared/BaseBody.astro';
import BaseHead from '../components/shared/BaseHead.astro';

export interface Props extends Omit<ComponentProps<typeof BaseHead>, 'generators'> {
	lang?: string;
	generators?: boolean;
}

// Destructure props with default lang
const { lang = defaultLang, generators: genMeta = true, ...headProps } = Astro.props;

const hideGeneratorTags = dashboardConfig.security?.hideGeneratorTags ?? false;
const generators = !hideGeneratorTags && genMeta;
---
<html {lang}>
    <BaseHead {...headProps} {generators} />
    <BaseBody>
        <slot />
    </BaseBody>
</html>