---
import { FormattedDate } from 'studiocms:components';
import { CustomImage } from 'studiocms:imageHandler/components';
import { getHeroImage } from './heroHelper.js';

interface Props {
	title: string;
	publishedAt: Date;
	updatedAt?: Date | null;
	heroImage: string;
	description: string;
}

const { title, description, heroImage, publishedAt, updatedAt } = Astro.props;

const heroImageToUse = getHeroImage(heroImage, Astro);
---
<h1 class="title">{title}</h1>

<div style="text-align: center;">
	<CustomImage src={heroImageToUse} alt={title} width={720} height={360}/>
	<div>
		<p class="date">Published: <FormattedDate date={publishedAt}/></p>
		{updatedAt && <p class="date"> | Last Updated: <FormattedDate date={updatedAt}/></p>}
	</div>
	<p class="description">{description}</p>
</div>