---
import { getUserData } from 'studiocms:auth/lib/user';
import { Button, Input } from '@studiocms/ui/components';

const data = await getUserData(Astro);
---

<form id="display-name-form" class="display-name-form">
    <Input label='Display Name' placeholder='John Doe' value={data.user?.name} isRequired name='display-name' />

    <div class="form-footer">
        <Button type='submit' variant={'solid'} color='primary'>Update</Button> 
    </div>

</form>

<script>
    document.getElementById('display-name-form')?.addEventListener('submit', async (e) => {
        e.preventDefault();
    })
</script>

<style>
    .display-name-form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .display-name-form input {
        width: 100%;
    }

    .form-footer {
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        gap: 1rem;
        width: 100%;
    }

</style>