---
import { getUserData } from 'studiocms:auth/lib/user';
import { verifyUserPermissionLevel } from 'studiocms:auth/lib/user';
import SidebarLink from '../../SidebarLink.astro';
import { getSidebarLinks } from '../../sidebarConfig';

const lang = 'en-us';
const sidebar = getSidebarLinks(lang);

const data = await getUserData(Astro);

const isEditor = await verifyUserPermissionLevel(data, 'editor');
---
{
    isEditor && sidebar.editorLinks.map(({ href, icon, title }) => (
        <SidebarLink {icon} {href}>{title}</SidebarLink>
    ))
}