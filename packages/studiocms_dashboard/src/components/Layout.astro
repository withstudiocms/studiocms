---
import { ViewTransitions } from 'astro:transitions';
// import Config from 'virtual:studiocms/config';
import { Button } from '@studiocms/ui/components';
import Icon from '@studiocms/ui/utils/Icon.astro';
import { BaseHead } from '../components';
import SingleSidebar from './SingleSidebar.astro';

import '@studiocms/ui/css/global.css';
import '@fontsource-variable/onest/index.css';
import '../styles/layout.css';

// const {
// 	dashboardConfig: {
// 		developerConfig: { viewTransitionAPI },
// 	},
// } = Config;

type Props = {
	title: string;
	description: string;
	includeSidebar?: boolean;
	sideBarActiveItemID: string;
};

const { title, description } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" data-theme={'dark'}>
  <head>
    <BaseHead title={title} description={description} />
    <ViewTransitions />
    <!-- {viewTransitionAPI && (
      <style>
        @view-transition {
          navigation: auto; /* enabled! */
        }
      </style>
    )} -->
  </head>
  <body>
    <SingleSidebar transition:persist transition:persist-props />
    <main class="p-6 pt-10">
      <Button variant="outlined" color="primary" class="nav-toggle" id={'nav-toggle'}>
        <Icon name="bars-3" height={24} width={24} />
      </Button>
      <slot />
    </main>
  </body>
</html>
