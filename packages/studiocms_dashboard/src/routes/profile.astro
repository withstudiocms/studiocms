---
// import { useTranslations } from 'studiocms:i18n';
import { Layout } from '../components';
import PageHeader from '../components/PageHeader.astro';
import BasicInfo from '../components/islands/profile/BasicInfo.astro';
import BasicInfoFallback from '../components/islands/profile/BasicInfoFallback.astro';
import UpdatePassword from '../components/islands/profile/UpdatePassword.astro';
import UpdatePasswordFallback from '../components/islands/profile/UpdatePasswordFallback.astro';

const lang = 'en-us';
// const t = useTranslations(lang, '@studiocms/dashboard:index');
---

<Layout 
  title={'User Profile'}
  requiredPermission="visitor"
  {lang}
>
  <PageHeader title="Your Profile" />

  <div class="page-content">
    
    <BasicInfo server:defer>
      <BasicInfoFallback slot="fallback" />
    </BasicInfo>
    
    <UpdatePassword server:defer>
      <UpdatePasswordFallback slot="fallback" />
    </UpdatePassword>

  </div>
</Layout>

<style>
  .page-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>