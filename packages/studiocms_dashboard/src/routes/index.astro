---
// import { getWebVitals } from 'studiocms-dashboard:web-vitals';
import { getSiteConfig } from 'studiocms:helpers/contentHelper';
import { useTranslations } from 'studiocms:i18n';
import { Layout } from '../components';
import PageHeader from '../components/DashboardPageHeader.astro';
import LoginChecker from '../components/islands/LoginChecker.astro';
import { makePageTitle } from '../utils/makePageTitle';

const contextConfig = await getSiteConfig();

const lang = 'en-us';
const t = useTranslations(lang, '@studiocms/dashboard:index');

// Get the web vitals
// const webVitals = await getWebVitals();
---

<LoginChecker server:defer requiredPermission='editor' />

<Layout 
  sideBarActiveItemID="dashboard" 
  title={makePageTitle(t('title'), contextConfig)}
  description={contextConfig.description}
>
  <PageHeader />
  <span>{t('sub-header')}</span>
</Layout>
