---
import { useTranslations } from 'studiocms:i18n';
import studioCMS_SDK from 'studiocms:sdk';
import { Layout } from '../components';
import TestIsland from '../components/islands/TestIsland.astro';
import { makePageTitle } from '../utils/makePageTitle';

const dbConfig = (await studioCMS_SDK.GET.database.config()) || {
	title: 'StudioCMS',
	description: 'StudioCMS',
};

const lang = 'en-us';
const t = useTranslations(lang, '@studiocms/dashboard:index');
---

<Layout 
  sideBarActiveItemID="dashboard" 
  title={makePageTitle(t('title'), dbConfig)}
  description={dbConfig.description}
  requiredPermission="visitor"
>
  Sus

  <div>
    <TestIsland server:defer />
  </div>
</Layout>
