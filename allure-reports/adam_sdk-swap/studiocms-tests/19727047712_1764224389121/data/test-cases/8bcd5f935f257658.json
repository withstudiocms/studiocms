{"uid":"8bcd5f935f257658","name":"Session Module - validateSessionToken returns null for invalid session","fullName":"packages/@withstudiocms/auth-kit/test/modules/session.test.ts#@withstudiocms/auth-kit Package Tests Session Module - validateSessionToken returns null for invalid session","historyId":"d361ee9226004eac771b99164ed25433:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1764224277927,"stop":1764224277961,"duration":34},"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/session.test.ts:102:43)","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/session.test.ts:102:43)","steps":[{"name":"Should return null session and user for invalid token","time":{"start":1764224277927,"stop":1764224277960,"duration":33},"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/session.test.ts:102:43)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/auth-kit Package Tests"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"vitest-worker-2"},{"name":"package","value":"packages.@withstudiocms.auth-kit.test.modules.session.test.ts"},{"name":"parentSuite","value":"@withstudiocms/auth-kit Package Tests"},{"name":"suite","value":"Session Module Tests"},{"name":"subSuite","value":"validateSessionToken Invalid Session Tests"},{"name":"tag","value":"package:@withstudiocms/auth-kit"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":3,"unknown":0,"total":4},"items":[{"uid":"515487913dd5c00d","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19726244553_1764221679118/#testresult/515487913dd5c00d","status":"passed","time":{"start":1764221560900,"stop":1764221560902,"duration":2}},{"uid":"11a20516a860395c","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19726062572_1764221111160/#testresult/11a20516a860395c","status":"passed","time":{"start":1764220996433,"stop":1764220996434,"duration":1}},{"uid":"a14deb8a8db73b12","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19725542192_1764219155453/#testresult/a14deb8a8db73b12","status":"passed","time":{"start":1764219034414,"stop":1764219034416,"duration":2}}]},"tags":["package:@withstudiocms/auth-kit","type:unit","scope:withstudiocms"]},"source":"8bcd5f935f257658.json","parameterValues":[]}