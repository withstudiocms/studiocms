{"uid":"4806e3249e2535a4","name":"User Module - getUserData returns logged in session for valid user","fullName":"packages/@withstudiocms/auth-kit/test/modules/user.test.ts#@withstudiocms/auth-kit Package Tests User Module - getUserData returns logged in session for valid user","historyId":"187be5b64373d918223667053139500a:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1764224269818,"stop":1764224269824,"duration":6},"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:268:50)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:257:30)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/user.test.ts:285:13)","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:268:50)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:257:30)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/user.test.ts:285:13)","steps":[{"name":"Should return logged in session","time":{"start":1764224269819,"stop":1764224269823,"duration":4},"status":"broken","statusMessage":"Cannot read properties of undefined (reading 'expiresAt')","statusTrace":"TypeError: Cannot read properties of undefined (reading 'expiresAt')\n    at Object.next (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:125:13)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/session.ts:103:39)\n    at @withstudiocms/AuthKit/modules/session.validateSessionToken (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:268:50)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/src/modules/user.ts:257:30)\n    at @withstudiocms/AuthKit/modules/user.getUserData (/home/runner/work/studiocms/studiocms/packages/@withstudiocms/auth-kit/test/modules/user.test.ts:285:13)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/auth-kit Package Tests"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"vitest-worker-2"},{"name":"package","value":"packages.@withstudiocms.auth-kit.test.modules.user.test.ts"},{"name":"parentSuite","value":"@withstudiocms/auth-kit Package Tests"},{"name":"suite","value":"User Module Tests"},{"name":"subSuite","value":"getUserData Tests"},{"name":"tag","value":"package:@withstudiocms/auth-kit"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":3,"unknown":0,"total":4},"items":[{"uid":"ebed32477bfbfd80","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19726244553_1764221679118/#testresult/ebed32477bfbfd80","status":"passed","time":{"start":1764221552438,"stop":1764221552440,"duration":2}},{"uid":"79c09c208e03d5d6","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19726062572_1764221111160/#testresult/79c09c208e03d5d6","status":"passed","time":{"start":1764220988415,"stop":1764220988417,"duration":2}},{"uid":"8a234a4cce0bd1b3","reportUrl":"https://tests.studiocms.dev/allure-reports/adam_sdk-swap/studiocms-tests/19725542192_1764219155453/#testresult/8a234a4cce0bd1b3","status":"passed","time":{"start":1764219026343,"stop":1764219026345,"duration":2}}]},"tags":["package:@withstudiocms/auth-kit","type:unit","scope:withstudiocms"]},"source":"4806e3249e2535a4.json","parameterValues":[]}