{"uid":"b5b245bcf2bead9c","name":"API Route - withEffectAPI","fullName":"packages/@withstudiocms/effect/test/astro/api-route.test.ts#@withstudiocms/effect Package Tests API Route - withEffectAPI","historyId":"f7d2473e1065fe399f2f57bb33fc31cc:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1768113844590,"stop":1768113844602,"duration":12},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Testing withEffectAPI with successful Effect","time":{"start":1768113844590,"stop":1768113844592,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"200"},{"name":"Result Status","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI with failing Effect","time":{"start":1768113844592,"stop":1768113844596,"duration":4},"status":"passed","steps":[{"name":"Asserting error response","time":{"start":1768113844595,"stop":1768113844596,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"500"},{"name":"Result Status","value":"500"},{"name":"Expected Error Message","value":"fail"},{"name":"Result Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply CORS headers if configured","time":{"start":1768113844596,"stop":1768113844597,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (with cors)","time":{"start":1768113844597,"stop":1768113844598,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"https://example.com"},{"name":"Access-Control-Allow-Methods","value":"OPTIONS, GET, POST"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (without cors)","time":{"start":1768113844598,"stop":1768113844598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"*"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply success middleware if provided","time":{"start":1768113844598,"stop":1768113844599,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Custom Header","value":"value"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply error middleware if provided","time":{"start":1768113844599,"stop":1768113844601,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"500"},{"name":"Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle multiple CORS origins","time":{"start":1768113844601,"stop":1768113844601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"vitest-worker-3"},{"name":"package","value":"packages.@withstudiocms.effect.test.astro.api-route.test.ts"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"suite","value":"API Route Helpers Tests"},{"name":"subSuite","value":"withEffectAPI Tests"},{"name":"tag","value":"package:@withstudiocms/effect"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":168,"unknown":0,"total":168},"items":[{"uid":"a951f66a97356d28","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20889722846_1768107337360/#testresult/a951f66a97356d28","status":"passed","time":{"start":1768107209105,"stop":1768107209118,"duration":13}},{"uid":"28ed7216d346c6b","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20889626489_1768106802299/#testresult/28ed7216d346c6b","status":"passed","time":{"start":1768106676236,"stop":1768106676247,"duration":11}},{"uid":"374d8fcc2da83f01","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20849078727_1767955019282/#testresult/374d8fcc2da83f01","status":"passed","time":{"start":1767954886522,"stop":1767954886537,"duration":15}},{"uid":"bf37c77644a406fd","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20848191862_1767953062890/#testresult/bf37c77644a406fd","status":"passed","time":{"start":1767952925717,"stop":1767952925728,"duration":11}},{"uid":"76362353c3b8a8ef","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20843961601_1767942169371/#testresult/76362353c3b8a8ef","status":"passed","time":{"start":1767942038235,"stop":1767942038246,"duration":11}},{"uid":"acba14d996c6645e","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20843748394_1767941480817/#testresult/acba14d996c6645e","status":"passed","time":{"start":1767941354342,"stop":1767941354351,"duration":9}},{"uid":"395335c173a63100","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20837659232_1767921185873/#testresult/395335c173a63100","status":"passed","time":{"start":1767921059350,"stop":1767921059368,"duration":18}},{"uid":"c0f55153c9ee326a","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20837465278_1767920629633/#testresult/c0f55153c9ee326a","status":"passed","time":{"start":1767920500654,"stop":1767920500667,"duration":13}},{"uid":"52385aa86b684cfc","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20801914692_1767834650252/#testresult/52385aa86b684cfc","status":"passed","time":{"start":1767834535405,"stop":1767834535415,"duration":10}},{"uid":"c44c7e7e30fb3e8","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20797692582_1767822948289/#testresult/c44c7e7e30fb3e8","status":"passed","time":{"start":1767822815190,"stop":1767822815203,"duration":13}},{"uid":"cc262c6a0df20c78","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20774140210_1767771638397/#testresult/cc262c6a0df20c78","status":"passed","time":{"start":1767771507471,"stop":1767771507481,"duration":10}},{"uid":"bce7dac9d64539b3","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20773503358_1767769833988/#testresult/bce7dac9d64539b3","status":"passed","time":{"start":1767769702524,"stop":1767769702536,"duration":12}},{"uid":"6083ac98f3dbed3e","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20770016686_1767758171616/#testresult/6083ac98f3dbed3e","status":"passed","time":{"start":1767758044500,"stop":1767758044511,"duration":11}},{"uid":"ef17b85a6b23d5b5","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20755323654_1767718350159/#testresult/ef17b85a6b23d5b5","status":"passed","time":{"start":1767718216896,"stop":1767718216907,"duration":11}},{"uid":"cd79efc929f79547","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20754890870_1767717368165/#testresult/cd79efc929f79547","status":"passed","time":{"start":1767717243646,"stop":1767717243657,"duration":11}},{"uid":"d741317aa708708c","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20754637680_1767716847974/#testresult/d741317aa708708c","status":"passed","time":{"start":1767716720389,"stop":1767716720400,"duration":11}},{"uid":"aee40a302626fc3c","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20738733112_1767676376690/#testresult/aee40a302626fc3c","status":"passed","time":{"start":1767676247907,"stop":1767676247918,"duration":11}},{"uid":"f2786b750e2fb212","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20714832353_1767614963877/#testresult/f2786b750e2fb212","status":"passed","time":{"start":1767614834626,"stop":1767614834637,"duration":11}},{"uid":"33799d06b8468bda","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20707488906_1767595981554/#testresult/33799d06b8468bda","status":"passed","time":{"start":1767595866822,"stop":1767595866832,"duration":10}},{"uid":"3167fb5848e60f54","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20703650418_1767581870360/#testresult/3167fb5848e60f54","status":"passed","time":{"start":1767581744318,"stop":1767581744328,"duration":10}}]},"tags":["package:@withstudiocms/effect","type:unit","scope:withstudiocms"]},"source":"b5b245bcf2bead9c.json","parameterValues":[]}