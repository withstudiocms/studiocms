{"uid":"50f00041fbd94f6a","name":"API Route - withEffectAPI","fullName":"packages/@withstudiocms/effect/test/astro/api-route.test.ts#@withstudiocms/effect Package Tests API Route - withEffectAPI","historyId":"f7d2473e1065fe399f2f57bb33fc31cc:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1767523647740,"stop":1767523647751,"duration":11},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Testing withEffectAPI with successful Effect","time":{"start":1767523647740,"stop":1767523647742,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"200"},{"name":"Result Status","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI with failing Effect","time":{"start":1767523647742,"stop":1767523647746,"duration":4},"status":"passed","steps":[{"name":"Asserting error response","time":{"start":1767523647745,"stop":1767523647746,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"500"},{"name":"Result Status","value":"500"},{"name":"Expected Error Message","value":"fail"},{"name":"Result Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply CORS headers if configured","time":{"start":1767523647746,"stop":1767523647747,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (with cors)","time":{"start":1767523647747,"stop":1767523647747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"https://example.com"},{"name":"Access-Control-Allow-Methods","value":"OPTIONS, GET, POST"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (without cors)","time":{"start":1767523647747,"stop":1767523647748,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"*"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply success middleware if provided","time":{"start":1767523647748,"stop":1767523647749,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Custom Header","value":"value"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply error middleware if provided","time":{"start":1767523647749,"stop":1767523647750,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"500"},{"name":"Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle multiple CORS origins","time":{"start":1767523647750,"stop":1767523647751,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"vitest-worker-3"},{"name":"package","value":"packages.@withstudiocms.effect.test.astro.api-route.test.ts"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"suite","value":"API Route Helpers Tests"},{"name":"subSuite","value":"withEffectAPI Tests"},{"name":"tag","value":"package:@withstudiocms/effect"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":145,"unknown":0,"total":145},"items":[{"uid":"b1def5ea4e2b126e","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20691549973_1767522758542/#testresult/b1def5ea4e2b126e","status":"passed","time":{"start":1767522631687,"stop":1767522631699,"duration":12}},{"uid":"947b666df3bc66a4","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20687576641_1767500923235/#testresult/947b666df3bc66a4","status":"passed","time":{"start":1767500799355,"stop":1767500799366,"duration":11}},{"uid":"a4c6cd49cde0a39d","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20669843698_1767401722576/#testresult/a4c6cd49cde0a39d","status":"passed","time":{"start":1767401599303,"stop":1767401599314,"duration":11}},{"uid":"79f52e3d266223cb","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20668406381_1767395092275/#testresult/79f52e3d266223cb","status":"passed","time":{"start":1767394975299,"stop":1767394975307,"duration":8}},{"uid":"d2d2f7d244ad74ae","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20661142571_1767368536264/#testresult/d2d2f7d244ad74ae","status":"passed","time":{"start":1767368413459,"stop":1767368413472,"duration":13}},{"uid":"66e641e4a1755f99","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20656835881_1767353197886/#testresult/66e641e4a1755f99","status":"passed","time":{"start":1767353078170,"stop":1767353078181,"duration":11}},{"uid":"e8955a6fa66fe499","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20649076524_1767319005253/#testresult/e8955a6fa66fe499","status":"passed","time":{"start":1767318886418,"stop":1767318886428,"duration":10}},{"uid":"381787c12ddbbb88","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648917605_1767318137052/#testresult/381787c12ddbbb88","status":"passed","time":{"start":1767318015879,"stop":1767318015890,"duration":11}},{"uid":"d1e468abc9969c27","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648759884_1767317298212/#testresult/d1e468abc9969c27","status":"passed","time":{"start":1767317177920,"stop":1767317177931,"duration":11}},{"uid":"834ba0b7dd292f7f","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648492401_1767315993217/#testresult/834ba0b7dd292f7f","status":"passed","time":{"start":1767315872119,"stop":1767315872129,"duration":10}},{"uid":"522f8bd2fea92a38","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648335056_1767315162709/#testresult/522f8bd2fea92a38","status":"passed","time":{"start":1767315040067,"stop":1767315040078,"duration":11}},{"uid":"774bf6898b57885f","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20633513145_1767247042503/#testresult/774bf6898b57885f","status":"passed","time":{"start":1767246914614,"stop":1767246914635,"duration":21}},{"uid":"41a2f81be0633309","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20587087479_1767060679931/#testresult/41a2f81be0633309","status":"passed","time":{"start":1767060553832,"stop":1767060553844,"duration":12}},{"uid":"bfe71a78208945ae","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20564911079_1766982925215/#testresult/bfe71a78208945ae","status":"passed","time":{"start":1766982804360,"stop":1766982804368,"duration":8}},{"uid":"5abb746644d28acc","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20534042896_1766808363050/#testresult/5abb746644d28acc","status":"passed","time":{"start":1766808238320,"stop":1766808238330,"duration":10}},{"uid":"2438811a86c4767","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20511995709_1766703178115/#testresult/2438811a86c4767","status":"passed","time":{"start":1766703053925,"stop":1766703053938,"duration":13}},{"uid":"26a48977543b0fba","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20491988526_1766601719416/#testresult/26a48977543b0fba","status":"passed","time":{"start":1766601596430,"stop":1766601596441,"duration":11}},{"uid":"48d800e19e398c72","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20477549658_1766547829484/#testresult/48d800e19e398c72","status":"passed","time":{"start":1766547703817,"stop":1766547703828,"duration":11}},{"uid":"39cff47be74dd8fb","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20474277433_1766534224527/#testresult/39cff47be74dd8fb","status":"passed","time":{"start":1766534106394,"stop":1766534106403,"duration":9}},{"uid":"131d281f9408495","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20474190829_1766533830167/#testresult/131d281f9408495","status":"passed","time":{"start":1766533706633,"stop":1766533706648,"duration":15}}]},"tags":["package:@withstudiocms/effect","type:unit","scope:withstudiocms"]},"source":"50f00041fbd94f6a.json","parameterValues":[]}