{"uid":"bfe71a78208945ae","name":"API Route - withEffectAPI","fullName":"packages/@withstudiocms/effect/test/astro/api-route.test.ts#@withstudiocms/effect Package Tests API Route - withEffectAPI","historyId":"f7d2473e1065fe399f2f57bb33fc31cc:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1766982804360,"stop":1766982804368,"duration":8},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Testing withEffectAPI with successful Effect","time":{"start":1766982804361,"stop":1766982804362,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"200"},{"name":"Result Status","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI with failing Effect","time":{"start":1766982804362,"stop":1766982804365,"duration":3},"status":"passed","steps":[{"name":"Asserting error response","time":{"start":1766982804364,"stop":1766982804365,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"500"},{"name":"Result Status","value":"500"},{"name":"Expected Error Message","value":"fail"},{"name":"Result Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply CORS headers if configured","time":{"start":1766982804365,"stop":1766982804366,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (with cors)","time":{"start":1766982804366,"stop":1766982804366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"https://example.com"},{"name":"Access-Control-Allow-Methods","value":"OPTIONS, GET, POST"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (without cors)","time":{"start":1766982804366,"stop":1766982804366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"*"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply success middleware if provided","time":{"start":1766982804366,"stop":1766982804367,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Custom Header","value":"value"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply error middleware if provided","time":{"start":1766982804367,"stop":1766982804368,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"500"},{"name":"Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle multiple CORS origins","time":{"start":1766982804368,"stop":1766982804368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"vitest-worker-3"},{"name":"package","value":"packages.@withstudiocms.effect.test.astro.api-route.test.ts"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"suite","value":"API Route Helpers Tests"},{"name":"subSuite","value":"withEffectAPI Tests"},{"name":"tag","value":"package:@withstudiocms/effect"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":131,"unknown":0,"total":131},"items":[{"uid":"5abb746644d28acc","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20534042896_1766808363050/#testresult/5abb746644d28acc","status":"passed","time":{"start":1766808238320,"stop":1766808238330,"duration":10}},{"uid":"2438811a86c4767","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20511995709_1766703178115/#testresult/2438811a86c4767","status":"passed","time":{"start":1766703053925,"stop":1766703053938,"duration":13}},{"uid":"26a48977543b0fba","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20491988526_1766601719416/#testresult/26a48977543b0fba","status":"passed","time":{"start":1766601596430,"stop":1766601596441,"duration":11}},{"uid":"48d800e19e398c72","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20477549658_1766547829484/#testresult/48d800e19e398c72","status":"passed","time":{"start":1766547703817,"stop":1766547703828,"duration":11}},{"uid":"39cff47be74dd8fb","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20474277433_1766534224527/#testresult/39cff47be74dd8fb","status":"passed","time":{"start":1766534106394,"stop":1766534106403,"duration":9}},{"uid":"131d281f9408495","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20474190829_1766533830167/#testresult/131d281f9408495","status":"passed","time":{"start":1766533706633,"stop":1766533706648,"duration":15}},{"uid":"fe5b56dcb3982513","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20474086293_1766533367367/#testresult/fe5b56dcb3982513","status":"passed","time":{"start":1766533252197,"stop":1766533252206,"duration":9}},{"uid":"9e5effab5439b03","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20463897887_1766501833427/#testresult/9e5effab5439b03","status":"passed","time":{"start":1766501707256,"stop":1766501707271,"duration":15}},{"uid":"8d3c459aa6aa55ff","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20463673589_1766501154341/#testresult/8d3c459aa6aa55ff","status":"passed","time":{"start":1766501029959,"stop":1766501029985,"duration":26}},{"uid":"7618fb26f25a3c9c","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20454105121_1766474148971/#testresult/7618fb26f25a3c9c","status":"passed","time":{"start":1766474020403,"stop":1766474020418,"duration":15}},{"uid":"a0a6c56fe8af866f","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20447229023_1766448196226/#testresult/a0a6c56fe8af866f","status":"passed","time":{"start":1766448080594,"stop":1766448080601,"duration":7}},{"uid":"8cecb71444283f41","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20445322652_1766441756217/#testresult/8cecb71444283f41","status":"passed","time":{"start":1766441623293,"stop":1766441623304,"duration":11}},{"uid":"57d6d5b97fdc3f92","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20423767260_1766384854873/#testresult/57d6d5b97fdc3f92","status":"passed","time":{"start":1766384731714,"stop":1766384731726,"duration":12}},{"uid":"9f5a66ae92cb51af","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20423660784_1766384548226/#testresult/9f5a66ae92cb51af","status":"passed","time":{"start":1766384422697,"stop":1766384422709,"duration":12}},{"uid":"533a71882370586","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20423498228_1766384069397/#testresult/533a71882370586","status":"passed","time":{"start":1766383945925,"stop":1766383945936,"duration":11}},{"uid":"3cf03f218bb284e1","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20423233334_1766383217631/#testresult/3cf03f218bb284e1","status":"passed","time":{"start":1766383095680,"stop":1766383095690,"duration":10}},{"uid":"8c0aa1c3995d7388","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20423055699_1766382535299/#testresult/8c0aa1c3995d7388","status":"passed","time":{"start":1766382413941,"stop":1766382413952,"duration":11}},{"uid":"2ef0083c14ee4db9","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20422916840_1766382002402/#testresult/2ef0083c14ee4db9","status":"passed","time":{"start":1766381877993,"stop":1766381878004,"duration":11}},{"uid":"aaa480041048a300","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20419455120_1766368928757/#testresult/aaa480041048a300","status":"passed","time":{"start":1766368802331,"stop":1766368802342,"duration":11}},{"uid":"6d1a5b43f45ab02","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20419387929_1766368624268/#testresult/6d1a5b43f45ab02","status":"passed","time":{"start":1766368500245,"stop":1766368500257,"duration":12}}]},"tags":["package:@withstudiocms/effect","type:unit","scope:withstudiocms"]},"source":"bfe71a78208945ae.json","parameterValues":[]}