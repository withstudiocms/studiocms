{"uid":"6083ac98f3dbed3e","name":"API Route - withEffectAPI","fullName":"packages/@withstudiocms/effect/test/astro/api-route.test.ts#@withstudiocms/effect Package Tests API Route - withEffectAPI","historyId":"f7d2473e1065fe399f2f57bb33fc31cc:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1767758044500,"stop":1767758044511,"duration":11},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Testing withEffectAPI with successful Effect","time":{"start":1767758044500,"stop":1767758044502,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"200"},{"name":"Result Status","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI with failing Effect","time":{"start":1767758044502,"stop":1767758044506,"duration":4},"status":"passed","steps":[{"name":"Asserting error response","time":{"start":1767758044505,"stop":1767758044506,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Expected Status","value":"500"},{"name":"Result Status","value":"500"},{"name":"Expected Error Message","value":"fail"},{"name":"Result Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply CORS headers if configured","time":{"start":1767758044506,"stop":1767758044507,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (with cors)","time":{"start":1767758044507,"stop":1767758044507,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"https://example.com"},{"name":"Access-Control-Allow-Methods","value":"OPTIONS, GET, POST"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle preflight requests (without cors)","time":{"start":1767758044507,"stop":1767758044508,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"204"},{"name":"Access-Control-Allow-Origin","value":"*"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply success middleware if provided","time":{"start":1767758044508,"stop":1767758044509,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Custom Header","value":"value"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should apply error middleware if provided","time":{"start":1767758044509,"stop":1767758044510,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Status","value":"500"},{"name":"Error Message","value":"fail"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Testing withEffectAPI should handle multiple CORS origins","time":{"start":1767758044510,"stop":1767758044510,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Access-Control-Allow-Origin","value":"https://example.com"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"owner","value":"withstudiocms"},{"name":"lead","value":"Adam Matthiesen"},{"name":"framework","value":"Vitest"},{"name":"language","value":"TypeScript/JavaScript"},{"name":"framework","value":"vitest"},{"name":"language","value":"javascript"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"vitest-worker-3"},{"name":"package","value":"packages.@withstudiocms.effect.test.astro.api-route.test.ts"},{"name":"parentSuite","value":"@withstudiocms/effect Package Tests"},{"name":"suite","value":"API Route Helpers Tests"},{"name":"subSuite","value":"withEffectAPI Tests"},{"name":"tag","value":"package:@withstudiocms/effect"},{"name":"tag","value":"type:unit"},{"name":"tag","value":"scope:withstudiocms"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"withstudiocms","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":155,"unknown":0,"total":155},"items":[{"uid":"ef17b85a6b23d5b5","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20755323654_1767718350159/#testresult/ef17b85a6b23d5b5","status":"passed","time":{"start":1767718216896,"stop":1767718216907,"duration":11}},{"uid":"cd79efc929f79547","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20754890870_1767717368165/#testresult/cd79efc929f79547","status":"passed","time":{"start":1767717243646,"stop":1767717243657,"duration":11}},{"uid":"d741317aa708708c","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20754637680_1767716847974/#testresult/d741317aa708708c","status":"passed","time":{"start":1767716720389,"stop":1767716720400,"duration":11}},{"uid":"aee40a302626fc3c","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20738733112_1767676376690/#testresult/aee40a302626fc3c","status":"passed","time":{"start":1767676247907,"stop":1767676247918,"duration":11}},{"uid":"f2786b750e2fb212","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20714832353_1767614963877/#testresult/f2786b750e2fb212","status":"passed","time":{"start":1767614834626,"stop":1767614834637,"duration":11}},{"uid":"33799d06b8468bda","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20707488906_1767595981554/#testresult/33799d06b8468bda","status":"passed","time":{"start":1767595866822,"stop":1767595866832,"duration":10}},{"uid":"3167fb5848e60f54","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20703650418_1767581870360/#testresult/3167fb5848e60f54","status":"passed","time":{"start":1767581744318,"stop":1767581744328,"duration":10}},{"uid":"8152754951a62d77","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20692328629_1767526871329/#testresult/8152754951a62d77","status":"passed","time":{"start":1767526748502,"stop":1767526748513,"duration":11}},{"uid":"170e8185b03a88d9","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20691952952_1767524960231/#testresult/170e8185b03a88d9","status":"passed","time":{"start":1767524834259,"stop":1767524834270,"duration":11}},{"uid":"50f00041fbd94f6a","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20691738290_1767523775301/#testresult/50f00041fbd94f6a","status":"passed","time":{"start":1767523647740,"stop":1767523647751,"duration":11}},{"uid":"b1def5ea4e2b126e","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20691549973_1767522758542/#testresult/b1def5ea4e2b126e","status":"passed","time":{"start":1767522631687,"stop":1767522631699,"duration":12}},{"uid":"947b666df3bc66a4","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20687576641_1767500923235/#testresult/947b666df3bc66a4","status":"passed","time":{"start":1767500799355,"stop":1767500799366,"duration":11}},{"uid":"a4c6cd49cde0a39d","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20669843698_1767401722576/#testresult/a4c6cd49cde0a39d","status":"passed","time":{"start":1767401599303,"stop":1767401599314,"duration":11}},{"uid":"79f52e3d266223cb","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20668406381_1767395092275/#testresult/79f52e3d266223cb","status":"passed","time":{"start":1767394975299,"stop":1767394975307,"duration":8}},{"uid":"d2d2f7d244ad74ae","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20661142571_1767368536264/#testresult/d2d2f7d244ad74ae","status":"passed","time":{"start":1767368413459,"stop":1767368413472,"duration":13}},{"uid":"66e641e4a1755f99","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20656835881_1767353197886/#testresult/66e641e4a1755f99","status":"passed","time":{"start":1767353078170,"stop":1767353078181,"duration":11}},{"uid":"e8955a6fa66fe499","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20649076524_1767319005253/#testresult/e8955a6fa66fe499","status":"passed","time":{"start":1767318886418,"stop":1767318886428,"duration":10}},{"uid":"381787c12ddbbb88","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648917605_1767318137052/#testresult/381787c12ddbbb88","status":"passed","time":{"start":1767318015879,"stop":1767318015890,"duration":11}},{"uid":"d1e468abc9969c27","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648759884_1767317298212/#testresult/d1e468abc9969c27","status":"passed","time":{"start":1767317177920,"stop":1767317177931,"duration":11}},{"uid":"834ba0b7dd292f7f","reportUrl":"https://tests.studiocms.dev/allure-reports/main/studiocms-tests/20648492401_1767315993217/#testresult/834ba0b7dd292f7f","status":"passed","time":{"start":1767315872119,"stop":1767315872129,"duration":10}}]},"tags":["package:@withstudiocms/effect","type:unit","scope:withstudiocms"]},"source":"6083ac98f3dbed3e.json","parameterValues":[]}